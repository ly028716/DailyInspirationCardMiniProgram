<!-- 首页 - 今日灵感 -->
<view class="container">

  <!-- 顶部导航栏（仅背景） -->
  <view class="navbar"></view>

  <!-- 加载状态 -->
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">正在为您准备今日灵感...</text>
  </view>

  <!-- 卡片容器 -->
  <view class="card-container" wx:if="{{!loading && dailyCard}}">
    <view class="card-header">
      <text class="card-title">今日灵感</text>
    </view>
    
    <view class="card-content">
      <text class="card-text">{{dailyCard.content}}</text>
      <text class="card-author" wx:if="{{dailyCard.author}}">— {{dailyCard.author}}</text>
    </view>
    
    <!-- 互动按钮 -->
    <view class="card-actions">
      <button class="action-btn like-btn {{dailyCard.isLiked ? 'liked' : ''}}" bindtap="onLike">
        <text class="action-icon">❤️</text>
      </button>
      <button class="action-btn thumb-btn" bindtap="onThumb">
        <text class="action-icon">👍</text>
      </button>
    </view>
  </view>

  <!-- 换一张按钮 -->
  <view class="refresh-section" wx:if="{{!loading}}">
    <button class="refresh-btn" bindtap="onRefreshCard" disabled="{{refreshing}}">
      <text wx:if="{{!refreshing}}">换一张灵感卡片</text>
      <text wx:else>获取中...</text>
    </button>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{!loading && !dailyCard}}">
    <view class="empty-icon">✨</view>
    <text class="empty-title">暂无今日灵感</text>
    <text class="empty-desc">点击下方按钮获取新的灵感卡片</text>
    <button class="empty-btn" bindtap="onRefreshCard">
      <text>获取灵感</text>
    </button>
  </view>
</view>

<!-- 底部导航栏 -->
<view class="tabbar">
  <view class="tab-item active">
    <text class="tab-icon">🏠</text>
  </view>
  <view class="tab-item" bindtap="onHistory">
    <text class="tab-icon">📜</text>
  </view>
  <view class="tab-item" bindtap="onProfile">
    <text class="tab-icon">👤</text>
  </view>
</view>