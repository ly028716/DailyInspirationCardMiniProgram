<!-- å†å²çµæ„Ÿé¡µé¢ -->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="navbar">
    <text class="title">å†å²çµæ„Ÿ</text>
  </view>

  <!-- æœç´¢æ  -->
  <view class="search-section">
    <view class="search-bar">
      <text class="search-icon">ğŸ”</text>
      <input 
        class="search-input" 
        placeholder="æœç´¢å†å²å¡ç‰‡..."
        value="{{searchKeyword}}"
        bindinput="onSearchInput"
      />
    </view>
    <button class="filter-btn" bindtap="onFilter">
      <text>ç­›é€‰</text>
    </button>
  </view>

  <!-- ç­›é€‰æ ‡ç­¾ -->
  <view class="filter-tags">
    <button class="tag-btn {{activeFilter === 'all' ? 'active' : ''}}" bindtap="onFilterChange" data-filter="all">
      <text>å…¨éƒ¨</text>
    </button>
    <button class="tag-btn {{activeFilter === 'favorite' ? 'active' : ''}}" bindtap="onFilterChange" data-filter="favorite">
      <text>â­ æ”¶è—</text>
    </button>
    <button class="tag-btn {{activeFilter === 'inspirational' ? 'active' : ''}}" bindtap="onFilterChange" data-filter="inspirational">
      <text>åŠ±å¿—</text>
    </button>
    <button class="tag-btn {{activeFilter === 'poetry' ? 'active' : ''}}" bindtap="onFilterChange" data-filter="poetry">
      <text>è¯—æ­Œ</text>
    </button>
    <button class="tag-btn {{activeFilter === 'philosophy' ? 'active' : ''}}" bindtap="onFilterChange" data-filter="philosophy">
      <text>å“²ç†</text>
    </button>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- å¡ç‰‡åˆ—è¡¨ -->
  <scroll-view class="card-list" scroll-y wx:if="{{!loading}}">
    <view class="card-item" wx:for="{{cards}}" wx:key="id" bindtap="onCardDetail" data-id="{{item.id}}">
      <view class="card-header">
        <text class="card-date">{{item.date}}</text>
        <view class="card-type">
          <text>{{item.typeText}}</text>
        </view>
      </view>
      <view class="card-content">
        <text class="card-text">{{item.content}}</text>
      </view>
      <view class="card-footer">
        <view class="card-stats">
          <text class="stat-item">â¤ï¸ {{item.likes || 0}}</text>
          <text class="stat-item">ğŸ‘ {{item.thumbs || 0}}</text>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{cards.length === 0}}">
      <view class="empty-icon">{{activeFilter === 'favorite' ? 'â­' : 'ğŸ“­'}}</view>
      <text class="empty-title">{{activeFilter === 'favorite' ? 'æš‚æ— æ”¶è—å¡ç‰‡' : 'æš‚æ— å†å²è®°å½•'}}</text>
      <text class="empty-desc">{{activeFilter === 'favorite' ? 'å¿«å»æ”¶è—å–œæ¬¢çš„å¡ç‰‡å§' : 'å¿«å»å‘ç°æ›´å¤šçµæ„Ÿå¡ç‰‡å§'}}</text>
      <button class="empty-btn" bindtap="goToIndex">
        <text>å»å‘ç°</text>
      </button>
    </view>
  </scroll-view>
</view>

<!-- åº•éƒ¨å¯¼èˆªæ  -->
<view class="tabbar">
  <view class="tab-item" bindtap="onHome">
    <text class="tab-icon">ğŸ </text>
  </view>
  <view class="tab-item active">
    <text class="tab-icon">ğŸ“œ</text>
  </view>
  <view class="tab-item" bindtap="onProfile">
    <text class="tab-icon">ğŸ‘¤</text>
  </view>
</view>